@if (pokemonStore.isLoading()) {
<div class="loading-container">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>
} @else { @if (pokemonStore.isCompleted() && pokemonStore.selectedEntity()) {
<div class="pokemon-container">
  <section class="navigation">
    <a mat-mini-fab [routerLink]="'/pokemon/' + previousPokemonName()">
      <mat-icon>arrow_back</mat-icon>
    </a>
    <a mat-mini-fab [routerLink]="'/pokemon/' + nextPokemonName()">
      <mat-icon>arrow_forward</mat-icon>
    </a>
  </section>
  <section class="general-info">
    <mat-card appearance="outlined">
      <mat-card-header>
        <img
          mat-card-avatar
          class="pokemon-id-avatar"
          [src]="pokemonStore.selectedEntity().sprites.front_default"
          alt="{{
            pokemonStore.speciesDetails().names || [] | localise : 'en' : 'name'
          }}"
        />
        <mat-card-title
          >{{
            pokemonStore.speciesDetails().names || [] | localise : 'en' : 'name'
          }}
        </mat-card-title>
        <mat-card-subtitle>{{
          pokemonStore.speciesDetails().genera || [] | localise : 'en' : 'genus'
        }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <mat-chip-set aria-label="Types">
          @if (pokemonStore.selectedEntity().types) { @for (type of
          pokemonStore.selectedEntity().types; track type.slot) {
          <mat-chip>{{ type.type.name | titlecase }}</mat-chip>
          } }
        </mat-chip-set>
      </mat-card-content>
      <mat-card-content>
        <img
          [ngSrc]="
            pokemonStore.selectedEntity().sprites.other?.home?.front_default!
          "
          alt="{{
            pokemonStore.speciesDetails().names || [] | localise : 'en' : 'name'
          }}"
          mat-card-image
          width="350"
          height="350"
          priority
        />
      </mat-card-content>
      @if (pokemonStore.entities().length > 1) {
      <mat-card-footer>
        <h4 class="forms-header">Select Form</h4>
        <mat-grid-list cols="4" rowHeight="100px">
          @for (variety of pokemonStore.entities(); track variety.id) {
          <mat-grid-tile>
            <mat-card
              (click)="setSelectedPokemonVariety(variety.id)"
              class="cursor-pointer"
            >
              <img
                class="pokemon-form-image"
                mat-card-image
                [src]="variety.sprites.front_default!"
                width="80"
                height="80"
                alt="{{ variety.name }}"
              />
            </mat-card>
          </mat-grid-tile>
          }
        </mat-grid-list>
      </mat-card-footer>
      }
    </mat-card>
  </section>
  <section class="additional-info">
    <mat-tab-group>
      <mat-tab label="General">
        Color, Egg Groups, Base Happiness, Capture Rate etc.
      </mat-tab>
      <mat-tab label="Stats"> Stats </mat-tab>
      <mat-tab label="Moves"> Moves </mat-tab>
      <mat-tab label="Locations"> Locations </mat-tab>
    </mat-tab-group>
  </section>
</div>

} }
